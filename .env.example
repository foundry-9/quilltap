# NextAuth
# For local development, use http://localhost:3000
# For production, use your domain: https://yourdomain.com
NEXTAUTH_URL="http://localhost:3000"

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-here-generate-with-openssl"

# No-Auth Mode
# Set to "true" to disable authentication entirely (useful for local-only deployments)
# When enabled, an anonymous user is automatically created and used
AUTH_DISABLED="false"

# The display name for the anonymous user (only used when AUTH_DISABLED=true)
AUTH_ANONYMOUS_USER_NAME="Anonymous User"

# OAuth Providers
# Get these from https://console.cloud.google.com/
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Post-1.0: Additional OAuth providers
# APPLE_ID=""
# APPLE_SECRET=""
# GITHUB_ID=""
# GITHUB_SECRET=""

# Encryption (Phase 0.3)
# Generate with: openssl rand -base64 32
# IMPORTANT: Back up this value securely - if lost, all API keys become unrecoverable
ENCRYPTION_MASTER_PEPPER="your-encryption-pepper-here-generate-with-openssl"

# Production SSL (optional for local dev)
# DOMAIN="yourdomain.com"
# SSL_EMAIL="admin@yourdomain.com"

# Data Backend Configuration (JSON Migration - Cutover Phase Complete)
# The application now uses JSON file store exclusively
DATA_BACKEND="json"

# MongoDB Configuration (only needed when DATA_BACKEND="mongodb" or "dual")
# Connection string for MongoDB
# MONGODB_URI="mongodb://localhost:27017"
# MONGODB_DATABASE="quilltap"
# MONGODB_MODE="external"
# MONGODB_DATA_DIR="/data/mongodb"
# MONGODB_CONNECTION_TIMEOUT_MS="10000"
# MONGODB_MAX_POOL_SIZE="10"

# S3 / MinIO Configuration (for file storage)
# S3_MODE controls file storage backend:
# - "disabled": Use local filesystem (default)
# - "external": Use external S3 or MinIO
# - "embedded": Use embedded MinIO (Docker all-in-one mode)
S3_MODE="disabled"

# S3 connection settings (required when S3_MODE is not "disabled")
# For MinIO, set S3_ENDPOINT to your MinIO server URL
# S3_ENDPOINT="http://localhost:9000"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY="minioadmin"
# S3_SECRET_KEY="minioadmin"
# S3_BUCKET="quilltap-files"

# Optional S3 settings
# S3_PATH_PREFIX adds a prefix to all S3 keys (e.g., "prod/" or "dev/")
# S3_PATH_PREFIX=""

# S3_PUBLIC_URL is used for CDN or public file URLs
# S3_PUBLIC_URL="https://cdn.example.com/files"

# S3_FORCE_PATH_STYLE should be "true" for MinIO compatibility
# S3_FORCE_PATH_STYLE="true"

# Plugin Configuration
# Comma-separated list of site plugins to enable, or "all" for all plugins
# Default: all (enables all plugins in plugins/dist/)
SITE_PLUGINS_ENABLED="all"

# Comma-separated list of plugins to explicitly disable (overrides SITE_PLUGINS_ENABLED)
# Default: (empty)
# SITE_PLUGINS_DISABLED="qtap-plugin-gab-ai,qtap-plugin-ollama"

# Logging Configuration
# LOG_LEVEL controls which logs are shown (error, warn, info, debug)
LOG_LEVEL="info"

# LOG_OUTPUT controls where logs are sent:
# - "console": Output to stdout/stderr (default)
# - "file": Save to log files
# - "both": Output to both console and files
LOG_OUTPUT="console"

# LOG_FILE_PATH is the directory for log files (when LOG_OUTPUT is "file" or "both")
LOG_FILE_PATH="./logs"

# LOG_FILE_MAX_SIZE is the maximum size in bytes before rotating (default: 10485760 = 10MB)
# LOG_FILE_MAX_SIZE="10485760"

# LOG_FILE_MAX_FILES is the maximum number of rotated log files to keep (default: 5)
# LOG_FILE_MAX_FILES="5"
